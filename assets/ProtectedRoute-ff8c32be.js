import{b as u,u as f,r as d,j as g,N as m,s as l,h as r,c as h}from"./index-794f9aea.js";import{A as k}from"./AxiosINSTENCE-522b684b.js";import{u as x}from"./useCookies-e0d2a82b.js";import{u as p}from"./useDispatch-41b5d20e.js";function N(s){const[o,v,a]=x("token"),{user:i}=u(e=>e.user),t=p(),n=f(),c=async()=>{try{t(l());const e=await k.post("/api/user/get-user-info-by-id");t(r()),e.data.success?t(h(e.data.data)):(a("token"),n("/login"))}catch{t(r()),a("token"),n("/login")}};return d.useEffect(()=>{i||c()},[i]),o!=null&&o.token?s==null?void 0:s.children:g.jsx(m,{to:"/login"})}export{N as default};
