import{o as u,p as d,m as l,l as g,r,s as f,A as h,n as c,q as k,k as x,N as m}from"./index-4b0470dd.js";function E(t){const[a,C,v]=u("token"),{user:o}=d(e=>e.user),s=l(),n=g(),i=r.useCallback(async()=>{try{s(f());const e=await h.post("/api/user/get-user-info-by-id");s(c()),e.data.success?s(k(e.data.data)):n("/login")}catch{s(c()),n("/login")}});return r.useEffect(()=>{o||i()},[o,i]),a!=null&&a.token?t==null?void 0:t.children:x.jsx(m,{to:"/login"})}export{E as default};
