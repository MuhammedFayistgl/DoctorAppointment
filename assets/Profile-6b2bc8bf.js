import{b as x,g as D,r as c,u as j,j as r,s as m,h as a,n as e}from"./index-e2f96217.js";import{L as y}from"./Layout-f0e4ba7f.js";import{D as w}from"./DoctorForm-17e9a0d5.js";import{h as n}from"./index-4b6f0bc0.js";import{A as p}from"./AxiosINSTENCE-2600d4fd.js";import{u as H}from"./useDispatch-28678445.js";import"./colors-aa75efbe.js";import"./useCookies-d2975614.js";import"./index-1e5435fc.js";import"./useFlexGapSupport-0b9b7ab0.js";import"./index-a49f52ae.js";import"./motion-0517086e.js";import"./row-8e23334b.js";import"./index-cfdcea9a.js";import"./index-bfffc15c.js";import"./KeyCode-3135a8d9.js";function _(){const{user:d}=x(o=>o.user),u=D(),[i,f]=c.useState(null),t=H(),g=j(),h=async o=>{try{t(m());const s=await p.post("/api/doctor/update-doctor-profile",{...o,userId:d._id,timings:[n(o.timings[0]).format("HH:mm"),n(o.timings[1]).format("HH:mm")]});t(a()),s.data.success?(e.success(s.data.message),g("/")):e.error(s.data.message)}catch{t(a()),e.error("Something went wrong")}},l=async()=>{try{t(m());const o=await p.post("/api/doctor/get-doctor-info-by-user-id",{userId:u.userId},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t(a()),o.data.success&&f(o.data.data)}catch(o){console.log(o),t(a())}};return c.useEffect(()=>{l()},[]),r.jsxs(y,{children:[r.jsx("h1",{className:"page-title",children:"Doctor Profile"}),r.jsx("hr",{}),i&&r.jsx(w,{onFinish:h,initivalValues:i})]})}export{_ as default};
