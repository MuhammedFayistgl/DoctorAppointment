import{b as x,g as D,r as c,u as j,j as r,s as n,h as e,n as a}from"./index-feacd9d3.js";import{L as y}from"./Layout-0796e2cb.js";import{D as k}from"./DoctorForm-b651655b.js";import{h as m}from"./index-6a52d573.js";import{A as p}from"./AxiosINSTENCE-7db392fe.js";import{u as w}from"./useDispatch-f07cb0b0.js";import"./colors-9b52e8fd.js";import"./useCookies-4a6cfc8c.js";import"./index-d4125411.js";import"./useFlexGapSupport-a3c906df.js";import"./index-0277b7d1.js";import"./motion-9b0fc20d.js";import"./row-196caaa0.js";import"./index-514e3712.js";import"./index-9465be1d.js";import"./KeyCode-ed39cc0a.js";function z(){const{user:d}=x(o=>o.user),u=D(),[i,f]=c.useState(null),t=w(),g=j(),h=async o=>{try{t(n());const s=await p.post("/api/doctor/update-doctor-profile",{token:document.cookie,...o,userId:d._id,timings:[m(o.timings[0]).format("HH:mm"),m(o.timings[1]).format("HH:mm")]});t(e()),s.data.success?(a.success(s.data.message),g("/")):a.error(s.data.message)}catch{t(e()),a.error("Something went wrong")}},l=async()=>{try{t(n());const o=await p.post("/api/doctor/get-doctor-info-by-user-id",{userId:u.userId,token:document.cookie});t(e()),o.data.success&&f(o.data.data)}catch(o){console.log(o),t(e())}};return c.useEffect(()=>{l()},[]),r.jsxs(y,{children:[r.jsx("h1",{className:"page-title",children:"Doctor Profile"}),r.jsx("hr",{}),i&&r.jsx(k,{onFinish:h,initivalValues:i})]})}export{z as default};
