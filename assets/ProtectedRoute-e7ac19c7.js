import{e as c,u,r as f,j as d,N as g,s as m,h as r,f as l}from"./index-645bad21.js";import{A as h}from"./AxiosINSTENCE-8a24f150.js";import{u as x}from"./useCookies-01585a5f.js";import{u as k}from"./useDispatch-529d3876.js";function N(t){const[o,p,v]=x("token"),{user:a}=c(e=>e.user),s=k(),i=u(),n=async()=>{try{s(m());const e=await h.post("/api/user/get-user-info-by-id");s(r()),e.data.success?s(l(e.data.data)):i("/login")}catch{s(r()),i("/login")}};return f.useEffect(()=>{a||n()},[a]),o!=null&&o.token?t==null?void 0:t.children:d.jsx(g,{to:"/login"})}export{N as default};
