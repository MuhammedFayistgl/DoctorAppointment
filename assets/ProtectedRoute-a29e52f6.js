import{b as c,u,r as f,j as d,N as g,s as m,h as r,c as l}from"./index-feacd9d3.js";import{A as h}from"./AxiosINSTENCE-7db392fe.js";import{u as x}from"./useCookies-4a6cfc8c.js";import{u as k}from"./useDispatch-f07cb0b0.js";function N(t){const[o,p,v]=x("token"),{user:a}=c(e=>e.user),s=k(),i=u(),n=async()=>{try{s(m());const e=await h.post("/api/user/get-user-info-by-id");s(r()),e.data.success?s(l(e.data.data)):i("/login")}catch{s(r()),i("/login")}};return f.useEffect(()=>{a||n()},[a]),o!=null&&o.token?t==null?void 0:t.children:d.jsx(g,{to:"/login"})}export{N as default};
