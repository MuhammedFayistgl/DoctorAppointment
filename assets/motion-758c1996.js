import{r as n,i as D,a as B}from"./index-05dd5318.js";import{j as $,t as j}from"./index-4f1f647f.js";import{s as F,d as K,l as M,t as V}from"./Layout-0dc396ef.js";import{Z as X,$ as Y,a0 as Z,a1 as q}from"./Button-d8e02612.js";var c=new Map;function G(e){e.forEach(function(t){var r,o=t.target;(r=c.get(o))===null||r===void 0||r.forEach(function(i){return i(o)})})}var S=new $(G);function J(e,t){c.has(e)||(c.set(e,new Set),S.observe(e)),c.get(e).add(t)}function Q(e,t){c.has(e)&&(c.get(e).delete(t),c.get(e).size||(S.unobserve(e),c.delete(e)))}var U=function(e){X(r,e);var t=Y(r);function r(){return Z(this,r),t.apply(this,arguments)}return q(r,[{key:"render",value:function(){return this.props.children}}]),r}(n.Component),E=n.createContext(null);function ee(e){var t=e.children,r=e.onBatchResize,o=n.useRef(0),i=n.useRef([]),a=n.useContext(E),l=n.useCallback(function(v,u,f){o.current+=1;var d=o.current;i.current.push({size:v,element:u,data:f}),Promise.resolve().then(function(){d===o.current&&(r==null||r(i.current),i.current=[])}),a==null||a(v,u,f)},[r,a]);return n.createElement(E.Provider,{value:l},t)}function re(e,t){var r=e.children,o=e.disabled,i=n.useRef(null),a=n.useRef(null),l=n.useContext(E),v=typeof r=="function",u=v?r(i):r,f=n.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!v&&n.isValidElement(u)&&F(u),b=d?u.ref:null,N=n.useMemo(function(){return K(b,i)},[b,i]),H=function(){return M(i.current)||M(a.current)};n.useImperativeHandle(t,function(){return H()});var y=n.useRef(e);y.current=e;var z=n.useCallback(function(s){var w=y.current,_=w.onResize,T=w.data,k=s.getBoundingClientRect(),p=k.width,R=k.height,h=s.offsetWidth,g=s.offsetHeight,x=Math.floor(p),L=Math.floor(R);if(f.current.width!==x||f.current.height!==L||f.current.offsetWidth!==h||f.current.offsetHeight!==g){var W={width:x,height:L,offsetWidth:h,offsetHeight:g};f.current=W;var I=h===Math.round(p)?p:h,P=g===Math.round(R)?R:g,A=D(D({},W),{},{offsetWidth:I,offsetHeight:P});l==null||l(A,s,T),_&&Promise.resolve().then(function(){_(A,s)})}},[]);return n.useEffect(function(){var s=H();return s&&!o&&J(s,z),function(){return Q(s,z)}},[i.current,o]),n.createElement(U,{ref:a},d?n.cloneElement(u,{ref:N}):u)}var te=n.forwardRef(re),ne="rc-observer-key";function ie(e,t){var r=e.children,o=typeof r=="function"?[r]:j(r);return o.map(function(i,a){var l=(i==null?void 0:i.key)||"".concat(ne,"-").concat(a);return n.createElement(te,B({},e,{key:l,ref:a===0?t:void 0}),i)})}var oe=n.forwardRef(ie);oe.Collection=ee;var m=function(){return{height:0,opacity:0}},O=function(t){var r=t.scrollHeight;return{height:r,opacity:1}},ae=function(t){return{height:t?t.offsetHeight:0}},C=function(t,r){return(r==null?void 0:r.deadline)===!0||r.propertyName==="height"},le={motionName:"ant-motion-collapse",onAppearStart:m,onEnterStart:m,onAppearActive:O,onEnterActive:O,onLeaveStart:ae,onLeaveActive:m,onAppearEnd:C,onEnterEnd:C,onLeaveEnd:C,motionDeadline:500};V("bottomLeft","bottomRight","topLeft","topRight");var ve=function(t){return t!==void 0&&(t==="topLeft"||t==="topRight")?"slide-down":"slide-up"},de=function(t,r,o){return o!==void 0?o:"".concat(t,"-").concat(r)};export{oe as R,ve as a,le as c,de as g};
